classes: {

    output: {
        style: {
            stroke: blue
        }
        label.near: bottom-center
    }
    module: {
        style: {
            border-radius: 999
        }
    }
    if-else: {
        shape: diamond
        style: {
            fill: GhostWhite
        }
    }

    met_requirement: {
        style: {
            fill: gold
            font-size: 12
        }
        label.near: bottom-center
    }

    gpu_module: {
        style: {
            fill: LightGreen
            border-radius: 999
        }
    }

}

input_frame_sequence{
    label: "üñºÔ∏è Input frame sequence"
    style.multiple: true
    # near: top-center
}

human_detection{
    label: "üßç Human detection"
    class: gpu_module
}

human_bounding_box{
    label: "Human bounding box"
    icon: https://cdn-icons-png.flaticon.com/128/6302/6302663.png
    class: output
    style.multiple:true
}

human_count{
    label: "Human count"
    class: module
}


blood_detection{
    label: "ü©∏üî• Blood and Fire detection"
    class: gpu_module
    note: |md Ph√°t hi·ªán c√≥ s·ª± xu·∫•t hi·ªán c·ªßa m√°u, l·ª≠a tr√™n ·∫£nh, kh√¥ng c·∫ßn ph√°t hi·ªán v·ªã tr√≠ c·ª• th·ªÉ|
}



uniform_classification{
    label: "Uniform classification"
    class: gpu_module
}

bounding_box_with_type{
    label: "Bounding box with type"
    icon: https://cdn-icons-png.flaticon.com/128/6302/6302663.png
    class: output
    style.multiple: true
}

afk_detection{
    label: "AFK detection"
    class: module
}



met_requirement{
    label: "Met requirement"
    
    anomaly_afk{
        label: "Anomaly AFK"
        icon: https://cdn-icons-png.flaticon.com/128/3094/3094837.png
        class: met_requirement
    }

    detect_blood_anomaly{
        label: "ü©∏üî• Detect blood and fire anomaly"
        icon: https://cdn-icons-png.flaticon.com/128/967/967119.png
        class: met_requirement
    }

    detect_anomaly_group{
        label: "Detect anomaly group"
        icon: https://cdn-icons-png.flaticon.com/128/3588/3588885.png
        class: met_requirement
    }
    
    violent_behavior: {
        label: "Violent Behavior"
        icon: https://cdn-icons-png.flaticon.com/128/2983/2983413.png
        note: |md
            ### H√†nh ƒë·ªông b·∫°o l·ª±c
            - ƒê√°nh nhau, v·∫≠t nhau
            - Kh·ªëng ch·∫ø, t·∫•n c√¥ng c√°n b·ªô qu·∫£n gi√°o
            - Mang v≈© kh√≠ (hung kh√≠) t·ªõi tr∆∞·ªõc c·ªïng c∆° quan
            - C√°c h√†nh ƒë·ªông b·∫°o l·ª±c n√≥i chung
        |
        class: met_requirement
    }

    self_harm_and_injury: {
        label: "Self-Harm and Injury"
        icon: https://cdn-icons-png.flaticon.com/128/2983/2983413.png
        class: met_requirement
        note: |md
            ### T·ª± t·ª≠, t·ª± th∆∞∆°ng
            - ƒê·∫≠p ƒë·∫ßu v√†o t∆∞·ªùng
            - Treo c·ªï
            - C·∫Øt c·ªï, c·ªï tay, c·ªï ch√¢n
            - H√†nh ƒë·ªông tr√®o l√™n c·ª≠a ho·∫∑c c√°c v·ªã tr√≠ cao nguy hi·ªÉm
            - Ph√°t hi·ªán h√†nh ƒë·ªông ng√£, ƒë·ªôt qu·ªµ.
        |
    }

    anomalous_behavior: {
        label: "Anomalous behavior"
        icon: https://cdn-icons-png.flaticon.com/128/2983/2983413.png
        class: met_requirement
        note: |md
            ### H√†nh ƒë·ªông b·∫•t th∆∞·ªùng
            - X√© qu·∫ßn √°o, chƒÉn m√†n
            - R√∫t ch·ªâ, se d√¢y d√†i
            - M√†i c√°c v·∫≠t s·∫Øc nh·ªçn
            - H√∫t thu·ªëc
        |
    }
    escape_shackles: {
        label: "Tho√°t kh·ªèi c√πm b·∫•t th∆∞·ªùng"
        icon: https://cdn-icons-png.flaticon.com/128/4458/4458758.png
        class: met_requirement
    }

    civilian_clothing: {
        label: ""
        icon: https://cdn-icons-png.flaticon.com/128/2331/2331716.png
        class: met_requirement
        note: |md
            ### M·∫∑c d√¢n s·ª± ƒëi l·∫°i trong:
             - H√†nh lang
             - Khu giam
             - Tr∆∞·ªùng ch√≤i
             - C·ªïng khu giam
        |
    }

    detect_weapons: {
        label: "Detect weapons"
        icon: https://cdn-icons-png.flaticon.com/128/855/855023.png
        class: met_requirement
    }
    # near: bottom-center
}


detect_escape_shackles:{
    label: "Detect escape shackles"
    class: module
}

weapons_detection: {
    label: "Weapons detection"
    class: gpu_module
}

civilian_clothing_and_region_lockdown: {
    label: "M·∫∑c d√¢n s·ª± trong khu v·ª±c c·∫•m"
    class: module
}

human_activity_recognition : @human-activity-recognition.human_activity_recognition
input_frame_sequence -> human_detection -> human_bounding_box
bounding_box_with_type -> human_count -> met_requirement.detect_anomaly_group
bounding_box_with_type -> human_activity_recognition.keypoint_detection

input_frame_sequence -> blood_detection -> met_requirement.detect_blood_anomaly
human_bounding_box -> uniform_classification
uniform_classification -> bounding_box_with_type: "Ph√¢n lo·∫°i bounding boxes d·ª±a theo th√¥ng tin v·ªã tr√≠ camera v√† uniform"

human_activity_recognition.keypoint_detection -> afk_detection -> met_requirement.anomaly_afk
human_activity_recognition.final_recognition -> met_requirement.violent_behavior
human_activity_recognition.final_recognition -> met_requirement.self_harm_and_injury
human_activity_recognition.final_recognition -> met_requirement.anomalous_behavior

bounding_box_with_type -> detect_escape_shackles -> met_requirement.escape_shackles
bounding_box_with_type -> weapons_detection -> met_requirement.detect_weapons
bounding_box_with_type -> civilian_clothing_and_region_lockdown -> met_requirement.civilian_clothing


legend{
    label: "Ch√∫ th√≠ch"
    gpu_module: "GPU Module"
    module: "CPU Module"
    met_requirement: "Met requirement"
    near: bottom-right


    gpu_module.class: gpu_module
    module.class: module
    met_requirement.class: met_requirement
}